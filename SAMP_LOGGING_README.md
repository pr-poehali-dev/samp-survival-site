# üöÄ –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è SAMP —Å–µ—Ä–≤–µ—Ä–∞

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏–π –∏–≥—Ä–æ–∫–æ–≤ –Ω–∞ SAMP —Å–µ—Ä–≤–µ—Ä–µ —Å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### Backend API
- **POST** - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ª–æ–≥–∞
- **GET** - –ü–æ–ª—É—á–µ–Ω–∏–µ –ª–æ–≥–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, ID
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞

### –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏** - –ø–æ–∏—Å–∫ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤
3. **–õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞** - –ø—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ª–æ–≥–æ–≤
- üîê **login** - –í—Ö–æ–¥—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- üö™ **logout** - –í—ã—Ö–æ–¥—ã —Å —Å–µ—Ä–≤–µ—Ä–∞
- üíÄ **kill** - –£–±–∏–π—Å—Ç–≤–∞
- ‚ù§Ô∏è‚Äçü©π **death** - –°–º–µ—Ä—Ç–∏
- üõ°Ô∏è **admin** - –î–µ–π—Å—Ç–≤–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- üí¨ **chat** - –°–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç–µ
- üîÑ **trade** - –¢–æ—Ä–≥–æ–≤–ª—è –º–µ–∂–¥—É –∏–≥—Ä–æ–∫–∞–º–∏
- üìç **spawn** - –°–ø–∞–≤–Ω—ã –∏–≥—Ä–æ–∫–æ–≤
- ‚ö° **command** - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥
- üí∞ **money** - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å –¥–µ–Ω—å–≥–∞–º–∏

## üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å SAMP —Å–µ—Ä–≤–µ—Ä–æ–º

### 1. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- SAMP —Å–µ—Ä–≤–µ—Ä 0.3.7 –∏–ª–∏ –≤—ã—à–µ
- HTTP –ø–ª–∞–≥–∏–Ω (samphttp, requests –∏–ª–∏ pawn-requests)

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥ –∏–∑ `samp-integration-example.pwn` –≤ –≤–∞—à gamemode
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ HTTP –ø–ª–∞–≥–∏–Ω –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ API_URL –≤ –∫–æ–¥–µ

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```pawn
// –û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–æ—Å—Ç–æ–≥–æ –ª–æ–≥–∞
SendLogToServer("admin", playerid, "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –∫–æ–º–∞–Ω–¥—É /heal");

// –û—Ç–ø—Ä–∞–≤–∫–∞ –ª–æ–≥–∞ —Å –¥–µ—Ç–∞–ª—è–º–∏
new details[256];
format(details, sizeof(details), "–í—ã–¥–∞–ª $50000 –∏–≥—Ä–æ–∫—É %s", targetName);
SendLogToServer("admin", playerid, "–í—ã–¥–∞—á–∞ –¥–µ–Ω–µ–≥", details);
```

## üìä API Endpoints

### –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥
```http
POST https://functions.poehali.dev/87a1d7ee-a438-4ee1-bb8b-40f381ca8de7

{
  "category": "login",
  "user_id": 123,
  "user_name": "Player_Name",
  "action": "–í—Ö–æ–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä",
  "details": "–ü–µ—Ä–≤—ã–π –≤—Ö–æ–¥ –∑–∞ —Å–µ–≥–æ–¥–Ω—è",
  "ip_address": "127.0.0.1"
}
```

### –ü–æ–ª—É—á–∏—Ç—å –ª–æ–≥–∏
```http
GET https://functions.poehali.dev/87a1d7ee-a438-4ee1-bb8b-40f381ca8de7?category=login&limit=50
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- `category` - –∫–∞—Ç–µ–≥–æ—Ä–∏—è –ª–æ–≥–æ–≤
- `user_id` - ID –∏–≥—Ä–æ–∫–∞
- `user_name` - –∏–º—è –∏–≥—Ä–æ–∫–∞ (—á–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ)
- `limit` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 100)
- `offset` - —Å–º–µ—â–µ–Ω–∏–µ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏

## üé® –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- **–ü–æ–∏—Å–∫** - –ø–æ –∏–º–µ–Ω–∏, ID –∏–ª–∏ email
- **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–µ–Ω—å–≥–∏, –¥–æ–Ω–∞—Ç, –º—É—Ç
- **–£–¥–∞–ª–µ–Ω–∏–µ** - –ø–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–æ–ª—å–∫–æ –ø–æ –∑–∞–ø—Ä–æ—Å—É (–±–µ–∑ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∏)

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
- **–§–∏–ª—å—Ç—Ä—ã** - –ø–æ 10 –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- **–ü–æ–∏—Å–∫** - –ø–æ –∏–º–µ–Ω–∏ –∏–≥—Ä–æ–∫–∞
- **–†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- **–î–µ—Ç–∞–ª–∏** - –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–∂–¥–æ–º –¥–µ–π—Å—Ç–≤–∏–∏

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ samp_logs
```sql
CREATE TABLE samp_logs (
    id SERIAL PRIMARY KEY,
    category VARCHAR(50) NOT NULL,
    user_id INTEGER,
    user_name VARCHAR(255),
    action TEXT NOT NULL,
    details TEXT,
    ip_address VARCHAR(45),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### –ò–Ω–¥–µ–∫—Å—ã
- `idx_samp_logs_category` - –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `idx_samp_logs_user_id` - –ø–æ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `idx_samp_logs_created_at` - –ø–æ –¥–∞—Ç–µ (DESC)
- `idx_samp_logs_user_name` - –ø–æ –∏–º–µ–Ω–∏

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã —Å CORS headers
- –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –ò–Ω–¥–µ–∫—Å—ã –Ω–∞ –≤—Å–µ—Ö –∫–ª—é—á–µ–≤—ã—Ö –ø–æ–ª—è—Ö
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–¥–º–∏–Ω-–∫–æ–º–∞–Ω–¥—ã
```pawn
CMD:givemoney(playerid, params[])
{
    if(PlayerInfo[playerid][pAdmin] < 3) return 0;
    
    new targetid, amount;
    sscanf(params, "ud", targetid, amount);
    
    new details[256];
    format(details, sizeof(details), 
        "–í—ã–¥–∞–ª $%d –∏–≥—Ä–æ–∫—É ID:%d", amount, targetid);
    
    SendLogToServer("admin", playerid, "–í—ã–¥–∞—á–∞ –¥–µ–Ω–µ–≥", details);
    
    GivePlayerMoney(targetid, amount);
    return 1;
}
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∫—É–ø–∫–∏
```pawn
stock BuyWeapon(playerid, weaponid, price)
{
    GivePlayerWeapon(playerid, weaponid, 500);
    GivePlayerMoney(playerid, -price);
    
    new details[128];
    format(details, sizeof(details), 
        "–ö—É–ø–∏–ª –æ—Ä—É–∂–∏–µ #%d –∑–∞ $%d", weaponid, price);
    
    SendLogToServer("trade", playerid, "–ü–æ–∫—É–ø–∫–∞ –æ—Ä—É–∂–∏—è", details);
}
```

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å API_URL
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ HTTP –ø–ª–∞–≥–∏–Ω –∑–∞–≥—Ä—É–∂–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
4. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∫–ª–∞–¥–∫—É "–õ–æ–≥–∏"

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–≤–æ–±–æ–¥–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –ª—é–±—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö
